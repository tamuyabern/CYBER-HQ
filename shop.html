<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>HQ TECH & CYBER Shop</title>
<style>
:root{
  --bg:#f9fafc; --fg:#1a1d29; --muted:#5b6370; --card:#fff;
  --accent:#2563eb; --accent-hover:#1d4ed8; --btn:#25D366;
}
*{box-sizing:border-box;margin:0;padding:0;}
body{font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Arial,sans-serif;background:var(--bg);color:var(--fg);line-height:1.6}
.wrap{max-width:1100px;margin:0 auto;padding:16px}
header{display:flex;justify-content:space-between;align-items:center;position:sticky;top:0;z-index:1000;background:#fff;padding:12px;border-bottom:1px solid #e5e7eb}
header a{color:var(--muted);margin-left:12px;text-decoration:none;font-weight:600;font-size:14px;transition:color .2s}
header a:hover{color:var(--accent)}
.cart-counter{background:red;color:#fff;border-radius:50%;padding:2px 6px;font-size:12px;font-weight:700;margin-left:6px;}
h2{text-align:center;margin:24px 0;font-size:22px}
.category{margin:32px 0}
.category h3{text-align:left;margin-bottom:16px;color:var(--accent);font-size:20px;border-bottom:1px solid #e5e7eb;padding-bottom:4px}
.grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:18px}
.card{background:var(--card);border-radius:12px;box-shadow:0 2px 12px rgba(0,0,0,0.08);overflow:hidden;display:flex;flex-direction:column;transition:transform .2s;position:relative}
.card:hover{transform:translateY(-3px)}
.card img{width:100%;height:160px;object-fit:cover}
.card-body{padding:12px;flex:1;display:flex;flex-direction:column;justify-content:space-between;position:relative}
.card-body h4{font-size:16px;margin-bottom:6px}
.card-body p{font-size:14px;color:var(--muted);margin-bottom:10px}
.card-body .price{font-weight:700;color:var(--accent);margin-bottom:8px}
.card-body button,.cart-icon{background:none;border:none;cursor:pointer;position:absolute;top:10px;right:10px;width:32px;height:32px}
.cart-icon img{width:100%;height:100%}
.sale-badge{position:absolute;top:10px;left:10px;background:#ef4444;color:#fff;font-weight:700;padding:4px 8px;border-radius:6px;font-size:12px;z-index:2}
.cart-modal{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.45);display:none;justify-content:center;align-items:center;z-index:999}
.cart-content{background:#fff;padding:18px;border-radius:12px;max-width:400px;width:90%;max-height:80%;overflow-y:auto;position:relative}
.cart-content h3{margin-bottom:12px;text-align:center}
.cart-item{display:flex;justify-content:space-between;margin-bottom:10px}
.cart-item span{font-weight:500}
.close-cart{position:absolute;top:10px;right:10px;background:#ef4444;color:#fff;border:none;padding:6px 10px;border-radius:6px;cursor:pointer}
.top{position:fixed;right:18px;bottom:18px;background:var(--accent);color:#fff;border-radius:999px;padding:10px 14px;text-decoration:none;transition:transform .2s}
.top:hover{transform:scale(1.08)}
</style>
</head>
<body>
<a id="top"></a>
<header>
  <div><strong>HQ TECH & CYBER</strong></div>
  <div>
    <a href="index.html">Home</a>
    <a href="shop.html">Shop <span class="cart-counter" id="cartCounter">0</span></a>
  </div>
</header>

<main class="wrap">
<h2>Shop Categories</h2>
<div id="shopContainer"></div>
</main>

<!-- Cart Modal -->
<div class="cart-modal" id="cartModal">
  <div class="cart-content">
    <button class="close-cart" id="closeCart">X</button>
    <h3>Your Cart</h3>
    <div id="cartItems"></div>
    <p id="cartTotal"></p>
  </div>
</div>

<a href="#top" class="top" title="Back to top">â†‘</a>

<script>
// Cart icon image URL
const cartImg = "https://cdn-icons-png.flaticon.com/512/34/34568.png";

// CATEGORIES WITH PRODUCTS/SERVICES
const categories = [
  {name:"Cyber Services", items:[{id:1,name:"Cyber Services",price:0,img:"https://via.placeholder.com/220x160?text=Cyber+Services",addCart:false}]},
  {name:"Smartphones", items:[
    {id:2,name:"Smartphone 1",price:7000,img:"https://via.placeholder.com/220x160?text=Smartphone+1",addCart:true},
    {id:3,name:"Smartphone 2",price:7500,img:"https://via.placeholder.com/220x160?text=Smartphone+2",addCart:true},
    {id:4,name:"Smartphone 3",price:8000,img:"https://via.placeholder.com/220x160?text=Smartphone+3",addCart:true},
    {id:5,name:"Smartphone 4",price:8500,img:"https://via.placeholder.com/220x160?text=Smartphone+4",addCart:true},
    {id:6,name:"Smartphone 5",price:9000,img:"https://via.placeholder.com/220x160?text=Smartphone+5",addCart:true},
    {id:7,name:"Smartphone 6",price:9500,img:"https://via.placeholder.com/220x160?text=Smartphone+6",addCart:true}
  ]},
  {name:"Accessories", items:[
    {id:8,name:"Headphones",price:500,img:"https://via.placeholder.com/220x160?text=Headphones",addCart:true},
    {id:9,name:"Chargers",price:300,img:"https://via.placeholder.com/220x160?text=Chargers",addCart:true},
    {id:10,name:"USB Cable",price:150,img:"https://via.placeholder.com/220x160?text=USB+Cable",addCart:true},
    {id:11,name:"Power Bank",price:1200,img:"https://via.placeholder.com/220x160?text=Power+Bank",addCart:true},
    {id:12,name:"Earbuds",price:700,img:"https://via.placeholder.com/220x160?text=Earbuds",addCart:true},
    {id:13,name:"Memory Card",price:400,img:"https://via.placeholder.com/220x160?text=Memory+Card",addCart:true},
    {id:14,name:"Phone Case",price:350,img:"https://via.placeholder.com/220x160?text=Phone+Case",addCart:true},
    {id:15,name:"Screen Protector",price:200,img:"https://via.placeholder.com/220x160?text=Screen+Protector",addCart:true}
  ]},
  {name:"Repairs", items:[{id:16,name:"Phone Repair",price:0,img:"https://via.placeholder.com/220x160?text=Phone+Repair",addCart:false}]},
  {name:"Digital Services", items:[
    {id:17,name:"Printing Service",price:0,img:"https://via.placeholder.com/220x160?text=Printing",addCart:false}
  ]},
  {name:"Men's Wear", items:[
    {id:18,name:"Shirt 1",price:500,img:"https://via.placeholder.com/220x160?text=Shirt+1",addCart:true},
    {id:19,name:"Shirt 2",price:550,img:"https://via.placeholder.com/220x160?text=Shirt+2",addCart:true},
    {id:20,name:"Shirt 3",price:600,img:"https://via.placeholder.com/220x160?text=Shirt+3",addCart:true},
    {id:21,name:"Pants 1",price:700,img:"https://via.placeholder.com/220x160?text=Pants+1",addCart:true},
    {id:22,name:"Pants 2",price:750,img:"https://via.placeholder.com/220x160?text=Pants+2",addCart:true},
    {id:23,name:"Pants 3",price:800,img:"https://via.placeholder.com/220x160?text=Pants+3",addCart:true}
  ]},
  {name:"Lady's Wear", items:[
    {id:24,name:"Dress 1",price:300,img:"https://via.placeholder.com/220x160?text=Dress+1",addCart:true},
    {id:25,name:"Dress 2",price:350,img:"https://via.placeholder.com/220x160?text=Dress+2",addCart:true},
    {id:26,name:"Dress 3",price:400,img:"https://via.placeholder.com/220x160?text=Dress+3",addCart:true},
    {id:27,name:"Skirt 1",price:250,img:"https://via.placeholder.com/220x160?text=Skirt+1",addCart:true},
    {id:28,name:"Skirt 2",price:300,img:"https://via.placeholder.com/220x160?text=Skirt+2",addCart:true},
    {id:29,name:"Blouse 1",price:350,img:"https://via.placeholder.com/220x160?text=Blouse+1",addCart:true},
    {id:30,name:"Blouse 2",price:400,img:"https://via.placeholder.com/220x160?text=Blouse+2",addCart:true},
    {id:31,name:"Blouse 3",price:450,img:"https://via.placeholder.com/220x160?text=Blouse+3",addCart:true}
  ]}
];

const shopContainer = document.getElementById('shopContainer');
const cartModal = document.getElementById('cartModal');
const cartItemsEl = document.getElementById('cartItems');
const cartTotalEl = document.getElementById('cartTotal');
const closeCart = document.getElementById('closeCart');
const cartCounter = document.getElementById('cartCounter');

let cart = [];

function renderShop(){
  shopContainer.innerHTML='';
  categories.forEach(cat=>{
    const catDiv = document.createElement('div');
    catDiv.className='category';
    catDiv.innerHTML=`<h3>${cat.name}</h3><div class="grid"></div>`;
    const grid = catDiv.querySelector('.grid');
    cat.items.forEach(p=>{
      const card=document.createElement('div');
      card.className='card';
      card.innerHTML=`
        <img src="${p.img}" alt="${p.name}">
        ${p.addCart?`<span class="sale-badge">Sale</span>`:''}
        <div class="card-body">
          <h4>${p.name}</h4>
          ${p.price>0?`<p class="price">KES ${p.price.toLocaleString()}</p>`:''}
          ${p.addCart?`<button class="cart-icon" onclick="addToCart(${p.id})"><img src="${cartImg}" alt="Add to cart"></button>`:''}
        </div>
      `;
      grid.appendChild(card);
    });
    shopContainer.appendChild(catDiv);
  });
}

function addToCart(id){
  let allItems = categories.flatMap(c=>c.items);
  const product = allItems.find(p=>p.id===id);
  const exist = cart.find(item=>item.id===id);
  if(exist) exist.qty++;
  else cart.push({...product,qty:1});
  showCart();
  updateCounter();
}

function showCart(){
  cartModal.style.display='flex';
  renderCart();
}

closeCart.addEventListener('click', ()=>cartModal.style.display='none');

function renderCart(){
  cartItemsEl.innerHTML='';
  if(cart.length===0) cartItemsEl.innerHTML='<p>Your cart is empty</p>';
  else{
    let total=0;
    cart.forEach(item=>{
      total+=item.price*item.qty;
      const div=document.createElement('div');
      div.className='cart-item';
      div.innerHTML=`<span>${item.name} x ${item.qty}</span> <span>KES ${(item.price*item.qty).toLocaleString()}</span>`;
      cartItemsEl.appendChild(div);
    });
    cartTotalEl.textContent='Total: KES '+total.toLocaleString();
  }
}

function updateCounter(){
  const totalQty = cart.reduce((sum,item)=>sum+item.qty,0);
  cartCounter.textContent=totalQty;
}

window.addEventListener('beforeunload', ()=>localStorage.setItem('cart',JSON.stringify(cart)));
window.addEventListener('load', ()=>{
  const saved=localStorage.getItem('cart');
  if(saved) cart=JSON.parse(saved);
  updateCounter();
});

renderShop();
</script>
</body>
</html>
