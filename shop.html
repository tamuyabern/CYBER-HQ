<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>HQ TECH & CYBER - Shop</title>
  <style>
    :root{
      --bg:#f5f5f5;
      --primary:#c00;
      --dark:#222;
      --light:#fff;
    }
    body{
      margin:0;
      font-family:sans-serif;
      background:var(--bg);
      color:var(--dark);
    }
    header{
      background:var(--dark);
      color:var(--light);
      padding:1rem;
      text-align:center;
    }
    nav a{
      color:var(--light);
      margin:0 10px;
      text-decoration:none;
    }
    section{
      padding:2rem;
    }
    h2{
      margin-top:0;
    }
    .shop-grid{
      display:grid;
      grid-template-columns:repeat(auto-fit,minmax(220px,1fr));
      gap:1rem;
    }
    .card{
      background:var(--light);
      padding:1rem;
      border-radius:8px;
      box-shadow:0 2px 5px rgba(0,0,0,0.1);
      text-align:center;
    }
    .card img{
      max-width:100%;
      height:150px;
      object-fit:cover;
      margin-bottom:10px;
    }
    .btn{
      background:var(--primary);
      color:var(--light);
      border:none;
      padding:0.5rem 1rem;
      cursor:pointer;
      border-radius:5px;
    }
    .btn:hover{
      opacity:0.9;
    }
    /* Modal */
    .modal{
      display:none;
      position:fixed;
      z-index:1000;
      left:0;top:0;
      width:100%;height:100%;
      background:rgba(0,0,0,0.6);
      justify-content:center;
      align-items:center;
    }
    .modal-content{
      background:var(--light);
      padding:1.5rem;
      border-radius:8px;
      max-width:400px;
      width:90%;
      text-align:center;
    }
    .modal-content select,.modal-content input{
      width:100%;
      padding:0.5rem;
      margin:0.5rem 0;
    }
    .close{
      float:right;
      cursor:pointer;
      font-size:20px;
      color:var(--primary);
    }
    /* Cart */
    #cart{
      background:#fff;
      padding:1rem;
      border-radius:8px;
      box-shadow:0 2px 5px rgba(0,0,0,0.1);
      margin-top:2rem;
    }
    #cart ul{
      list-style:none;
      padding:0;
    }
    #cart li{
      margin:0.5rem 0;
      padding:0.5rem;
      border-bottom:1px solid #ddd;
    }
    footer{
      background:var(--dark);
      color:var(--light);
      text-align:center;
      padding:1rem;
      margin-top:2rem;
    }
  </style>
</head>
<body>

  <header>
    <h1>HQ TECH & CYBER</h1>
    <nav>
      <a href="index.html">Home</a>
      <a href="shop.html">Shop</a>
      <a href="#cart">Cart</a>
      <a href="#contact">Contact</a>
    </nav>
  </header>

  <section id="shop">
    <h2>Shop Our Products</h2>
    <div class="shop-grid">
      <!-- Example Product 1: Memory Card -->
      <div class="card" 
        data-name="Memory Card"
        data-options='[{"size":"16GB","price":800},{"size":"32GB","price":1200},{"size":"64GB","price":1800}]'>
        <img src="https://via.placeholder.com/200x150" alt="Memory Card">
        <h3>Memory Card</h3>
        <p>From KES 800</p>
        <button class="btn add-to-cart">Add to Cart</button>
      </div>

      <!-- Example Product 2: Shoes -->
      <div class="card" 
        data-name="Running Shoes"
        data-options='[{"size":"42","price":3000},{"size":"44","price":3100},{"size":"45","price":3200}]'>
        <img src="https://via.placeholder.com/200x150" alt="Shoes">
        <h3>Running Shoes</h3>
        <p>From KES 3000</p>
        <button class="btn add-to-cart">Add to Cart</button>
      </div>

      <!-- Example Product 3: Charger (no size options) -->
      <div class="card" 
        data-name="Phone Charger"
        data-options='[{"size":"Standard","price":1000}]'>
        <img src="https://via.placeholder.com/200x150" alt="Charger">
        <h3>Phone Charger</h3>
        <p>KES 1000</p>
        <button class="btn add-to-cart">Add to Cart</button>
      </div>
    </div>

    <!-- Cart -->
    <div id="cart">
      <h3>Your Cart</h3>
      <ul id="cart-items"></ul>
    </div>
  </section>

  <!-- Modal -->
  <div id="cartModal" class="modal">
    <div class="modal-content">
      <span class="close">&times;</span>
      <h3 id="modalProductName"></h3>
      <label for="optionSelect">Choose Size/Capacity:</label>
      <select id="optionSelect"></select>
      <p id="priceDisplay">Price: KES <span id="modalPrice">0</span></p>
      <label for="quantity">Quantity:</label>
      <input type="number" id="quantity" min="1" value="1" />
      <button id="confirmAdd" class="btn">Add to Cart</button>
    </div>
  </div>

  <footer id="contact">
    <p>&copy; 2025 HQ TECH & CYBER | All Rights Reserved</p>
  </footer>

  <script>
    const modal = document.getElementById("cartModal");
    const closeBtn = document.querySelector(".close");
    const optionSelect = document.getElementById("optionSelect");
    const modalProductName = document.getElementById("modalProductName");
    const modalPrice = document.getElementById("modalPrice");
    const quantityInput = document.getElementById("quantity");
    const confirmAddBtn = document.getElementById("confirmAdd");
    const cartItems = document.getElementById("cart-items");

    let currentProduct = null;
    let currentOptions = [];

    document.querySelectorAll(".add-to-cart").forEach(btn => {
      btn.addEventListener("click", e => {
        const card = e.target.closest(".card");
        currentProduct = card.dataset.name;
        currentOptions = JSON.parse(card.dataset.options);
        modalProductName.textContent = currentProduct;

        optionSelect.innerHTML = "";
        currentOptions.forEach(opt => {
          const option = document.createElement("option");
          option.value = opt.price;
          option.textContent = `${opt.size} - KES ${opt.price}`;
          optionSelect.appendChild(option);
        });

        modalPrice.textContent = currentOptions[0].price;
        quantityInput.value = 1;
        modal.style.display = "flex";
      });
    });

    optionSelect.addEventListener("change", e => {
      modalPrice.textContent = e.target.value;
    });

    closeBtn.onclick = () => modal.style.display = "none";
    window.onclick = e => { if(e.target === modal) modal.style.display="none"; }

    confirmAddBtn.addEventListener("click", () => {
      const selectedIndex = optionSelect.selectedIndex;
      const selectedOption = currentOptions[selectedIndex];
      const quantity = parseInt(quantityInput.value);
      const total = selectedOption.price * quantity;

      const li = document.createElement("li");
      li.textContent = `${currentProduct} (${selectedOption.size}) x${quantity} - KES ${total}`;
      cartItems.appendChild(li);

      modal.style.display = "none";
    });
  </script>

</body>
</html>
