<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>HQ TECH & CYBER - Shop</title>
  <style>
    body { font-family: Arial, sans-serif; margin:0; padding:0; background:#f5f5f5; }
    section { padding:40px 20px; }
    h2 { text-align:center; margin-bottom:20px; }

    .shop-grid {
      display:grid;
      grid-template-columns:repeat(auto-fit,minmax(250px,1fr));
      gap:20px;
    }

    .product {
      background:#fff;
      border-radius:10px;
      padding:15px;
      text-align:center;
      box-shadow:0 2px 5px rgba(0,0,0,0.1);
    }

    .product img {
      max-width:100%;
      border-radius:8px;
    }

    .product h3 {
      margin:10px 0 5px;
    }

    .product p {
      margin:5px 0;
      color:#444;
    }

    .btn {
      background:#e63946;
      color:#fff;
      padding:10px 15px;
      border:none;
      border-radius:6px;
      cursor:pointer;
      margin-top:10px;
    }

    /* Modal */
    .modal {
      display:none;
      position:fixed;
      top:0; left:0;
      width:100%; height:100%;
      background:rgba(0,0,0,0.5);
      justify-content:center;
      align-items:center;
      z-index:1000;
    }

    .modal-content {
      background:#fff;
      padding:20px;
      border-radius:10px;
      width:90%;
      max-width:400px;
      position:relative;
      text-align:center;
    }

    .close {
      position:absolute;
      top:10px; right:15px;
      font-size:20px;
      cursor:pointer;
    }

    .modal select, .modal input {
      margin:10px 0;
      padding:8px;
      width:100%;
    }
  </style>
</head>
<body>

<section id="shop">
  <h2>Our Shop</h2>
  <div class="shop-grid">

    <!-- Memory Card -->
    <div class="product" 
         data-name="Memory Card"
         data-options='[{"size":"16GB","price":800},{"size":"32GB","price":1200},{"size":"64GB","price":2000}]'>
      <img src="memorycard.jpg" alt="Memory Card">
      <h3>Memory Card</h3>
      <p>From KES 800</p>
      <button class="btn add-to-cart">Add to Cart</button>
    </div>

    <!-- Shoes -->
    <div class="product"
         data-name="Running Shoes"
         data-options='[{"size":"Size 42","price":3000},{"size":"Size 44","price":3100},{"size":"Size 45","price":3200}]'>
      <img src="shoes.jpg" alt="Shoes">
      <h3>Running Shoes</h3>
      <p>From KES 3000</p>
      <button class="btn add-to-cart">Add to Cart</button>
    </div>

    <!-- Simple product without size -->
    <div class="product"
         data-name="USB Cable"
         data-options='[{"size":"Standard","price":500}]'>
      <img src="cable.jpg" alt="USB Cable">
      <h3>USB Cable</h3>
      <p>KES 500</p>
      <button class="btn add-to-cart">Add to Cart</button>
    </div>

  </div>

  <!-- Modal -->
  <div id="cartModal" class="modal">
    <div class="modal-content">
      <span class="close">&times;</span>
      <h3 id="modalTitle">Add to Cart</h3>
      <label for="optionSelect">Choose Size/Capacity:</label>
      <select id="optionSelect"></select>
      
      <label for="quantity">Quantity:</label>
      <input type="number" id="quantity" value="1" min="1" />

      <p><strong>Price: KES <span id="modalPrice">0</span></strong></p>
      <button class="btn" id="confirmAdd">Confirm</button>
    </div>
  </div>
</section>

<script>
  const modal = document.getElementById("cartModal");
  const closeBtn = document.querySelector(".close");
  const optionSelect = document.getElementById("optionSelect");
  const modalPrice = document.getElementById("modalPrice");
  const modalTitle = document.getElementById("modalTitle");
  const confirmAdd = document.getElementById("confirmAdd");

  let currentProduct = null;
  let options = [];

  document.querySelectorAll(".add-to-cart").forEach(btn => {
    btn.addEventListener("click", (e) => {
      const product = e.target.closest(".product");
      currentProduct = product.dataset.name;
      options = JSON.parse(product.dataset.options);

      modalTitle.textContent = "Add " + currentProduct;
      optionSelect.innerHTML = "";

      options.forEach((opt, i) => {
        const option = document.createElement("option");
        option.value = i;
        option.textContent = opt.size + " - KES " + opt.price;
        optionSelect.appendChild(option);
      });

      modalPrice.textContent = options[0].price;
      modal.style.display = "flex";
    });
  });

  optionSelect.addEventListener("change", () => {
    const selected = options[optionSelect.value];
    modalPrice.textContent = selected.price;
  });

  closeBtn.addEventListener("click", () => {
    modal.style.display = "none";
  });

  window.addEventListener("click", (e) => {
    if (e.target == modal) {
      modal.style.display = "none";
    }
  });

  confirmAdd.addEventListener("click", () => {
    const selected = options[optionSelect.value];
    const qty = document.getElementById("quantity").value;
    alert(`${qty} x ${currentProduct} (${selected.size}) added to cart at KES ${selected.price} each.`);
    modal.style.display = "none";
  });
</script>

</body>
</html>
