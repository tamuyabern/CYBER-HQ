<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Repairs - My Shop</title>
  <style>
    body { font-family: Arial, sans-serif; margin:0; padding:0; }
    header { background:#222; color:#fff; padding:15px; position:sticky; top:0; display:flex; justify-content:space-between; }
    header nav a { color:#fff; margin:0 10px; text-decoration:none; }
    header nav a.active { border-bottom:2px solid #0f0; }
    main { padding:20px; display:grid; grid-template-columns:repeat(auto-fill,minmax(200px,1fr)); gap:15px; }
    .card { background:#fff; padding:15px; border-radius:10px; box-shadow:0 2px 5px rgba(0,0,0,0.2); text-align:center; }
    .card img { width:100%; border-radius:10px; }
    .btn { display:inline-block; margin-top:10px; padding:8px 12px; background:#28a745; color:#fff; border:none; border-radius:5px; cursor:pointer; }
    .cart-btn { position:fixed; bottom:20px; right:20px; background:#ff6600; color:#fff; border:none; padding:15px; border-radius:50%; font-size:20px; cursor:pointer; }
    .cart-badge { position:absolute; top:10px; right:10px; background:red; color:#fff; font-size:14px; padding:2px 6px; border-radius:50%; }
    .cart-overlay { position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.6); display:none; justify-content:center; align-items:center; }
    .cart { background:#fff; padding:20px; width:90%; max-width:400px; border-radius:10px; }
    .cart-row { display:flex; justify-content:space-between; margin:5px 0; }
    .close-cart { background:red; color:#fff; border:none; padding:5px 10px; cursor:pointer; }
    .whatsapp { position:fixed; bottom:80px; right:20px; background:#25D366; color:#fff; padding:12px 16px; border-radius:50%; font-size:20px; }
  </style>
</head>
<body>

<header>
  <div>My Shop</div>
  <nav>
    <a href="index.html">Home</a>
    <a href="accessories.html">Accessories</a>
    <a href="repairs.html" class="active">Repairs</a>
    <a href="smartphones.html">Smartphones</a>
    <a href="mens.html">Men</a>
    <a href="ladies.html">Ladies</a>
  </nav>
</header>

<main>
  <article class="card">
    <img src="images/accessory1.jpg" alt="Accessory 1">
    <h3>Accessory 1</h3>
    <p>KSh 500</p>
    <button class="btn add-cart" data-name="Accessory 1" data-price="500">Add to Cart</button>
  </article>
  <article class="card">
    <img src="images/accessory2.jpg" alt="Accessory 2">
    <h3>Accessory 2</h3>
    <p>KSh 1200</p>
    <button class="btn add-cart" data-name="Accessory 2" data-price="1200">Add to Cart</button>
  </article>
  <!-- âœ… Duplicate up to 10 products -->
</main>

<!-- Floating Cart -->
<button class="cart-btn">ðŸ›’<span class="cart-badge">0</span></button>
<div class="cart-overlay">
  <div class="cart">
    <h2>Your Cart</h2>
    <div class="cart-items"></div>
    <p>Total: <span class="cart-total">KSh 0</span></p>
    <button class="close-cart">Close</button>
  </div>
</div>

<!-- WhatsApp Button -->
<a href="https://wa.me/254712345678" target="_blank" class="whatsapp">ðŸ’¬</a>

<script>
const cartBtn = document.querySelector('.cart-btn');
const cartOverlay = document.querySelector('.cart-overlay');
const cartItemsEl = document.querySelector('.cart-items');
const cartTotalEl = document.querySelector('.cart-total');
const cartBadge = document.querySelector('.cart-badge');
const closeCartBtn = document.querySelector('.close-cart');

let cart = [];

function updateCart() {
  cartItemsEl.innerHTML = '';
  let total = 0;
  cart.forEach((item,i)=>{
    const row = document.createElement('div');
    row.className = 'cart-row';
    row.innerHTML = `
      <span>${item.name}</span>
      <span>${item.qty} x KSh ${item.price}</span>
      <button onclick="removeItem(${i})">Remove</button>
    `;
    cartItemsEl.appendChild(row);
    total += item.price*item.qty;
  });
  cartTotalEl.textContent = `KSh ${total}`;
  cartBadge.textContent = cart.reduce((sum,i)=>sum+i.qty,0);
}

function addToCart(name,price){
  const existing = cart.find(i=>i.name===name);
  if(existing){ existing.qty++; } 
  else { cart.push({name, price:parseInt(price), qty:1}); }
  updateCart();
}

function removeItem(i){ cart.splice(i,1); updateCart(); }

document.querySelectorAll('.add-cart').forEach(btn=>{
  btn.addEventListener('click',()=> addToCart(btn.dataset.name,btn.dataset.price));
});

cartBtn.addEventListener('click',()=>cartOverlay.style.display='flex');
closeCartBtn.addEventListener('click',()=>cartOverlay.style.display='none');
</script>

</body>
</html>
